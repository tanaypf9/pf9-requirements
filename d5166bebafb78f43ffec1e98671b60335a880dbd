{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "85134d90_a1d38fd7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 13252
      },
      "writtenOn": "2023-12-20T21:16:33Z",
      "side": 1,
      "message": "Looks like swift will have to adopt the mocking they do in their tests. Running some more integration tests with this might also be helpful.",
      "revId": "d5166bebafb78f43ffec1e98671b60335a880dbd",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70f2af4e_a3d4f785",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 15343
      },
      "writtenOn": "2023-12-29T09:00:50Z",
      "side": 1,
      "message": "I\u0027m skeptical that\n```\nFatal Python error: Segmentation fault\n```\nwill be resolved by simply adjusting mocking. I wrote up https://github.com/eventlet/eventlet/issues/864 -- I\u0027ll see if I can dig into it more, but it seems like eventlet may need to consciously _not_ attempt to green existing locks upon monkey-patching ðŸ˜•",
      "parentUuid": "85134d90_a1d38fd7",
      "revId": "d5166bebafb78f43ffec1e98671b60335a880dbd",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1dad75f2_42a88bf8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 13252
      },
      "writtenOn": "2024-01-02T17:16:57Z",
      "side": 1,
      "message": "I only took a rough look at the job failure, sorry for the false blame, but at least it seems to have gotten things moving ... ;-)\n\nhttps://github.com/eventlet/eventlet/pull/866 proposed now, likely there\u0027ll be another version soon",
      "parentUuid": "70f2af4e_a3d4f785",
      "revId": "d5166bebafb78f43ffec1e98671b60335a880dbd",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0bd153b_6e16d6b2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 15343
      },
      "writtenOn": "2024-01-03T21:22:46Z",
      "side": 1,
      "message": "No worries! And FWIW, I found I *could* dodge the bug by adjusting the mocking, so it turned out you were right: https://review.opendev.org/c/openstack/swift/+/904459\n\nI think it might still be best to wait for a new eventlet, though.",
      "parentUuid": "1dad75f2_42a88bf8",
      "revId": "d5166bebafb78f43ffec1e98671b60335a880dbd",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5ac626a_9a940225",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 28522
      },
      "writtenOn": "2024-01-10T17:03:50Z",
      "side": 1,
      "message": "As the root cause of the segfault is a pure python bug [1][2], with no reference to eventlet, I don\u0027t think that a new evenlet version would help much here.\n\nI think that until this bug is solved in the CPython side, we need the mock adjustment.\n\nI\u0027d suggest:\n\n1. to release a new swift version (not sure if cross tests are based on master branches or on specific pulled versions of services)\n2. recheck this patch\n3. if tests are ok with the mock adjustments, then, merge this patch.\n\nThoughts?\n\n[1] https://github.com/python/cpython/issues/113631\n[2] https://github.com/faster-cpython/ideas/issues/643",
      "parentUuid": "b0bd153b_6e16d6b2",
      "revId": "d5166bebafb78f43ffec1e98671b60335a880dbd",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}